var W=Object.defineProperty,Z=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var T=(t,e,s)=>e in t?W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,h=(t,e)=>{for(var s in e||(e={}))Q.call(e,s)&&T(t,s,e[s]);if(q)for(var s of q(e))X.call(e,s)&&T(t,s,e[s]);return t},O=(t,e)=>Z(t,K(e));import{_ as ee}from"./PageWrapper.6420503f.js";import{r as te}from"./apexcharts.common.0d57584f.js";import{j as o,m as f,c as u,_ as S,G as w,e as j,W as B,V as p,S as v,f as $,n as m,l as r,w as c,U as b,Z as re,k as d,R as k,B as l,F as x,$ as U,a0 as P,q as A,u as g,p as I,E as n,b as G,Y as se}from"./index.e62267ef.js";import{P as H,h as ae}from"./moment.c32dae88.js";import{B as R}from"./Modal.5f794cae.js";import{_ as oe}from"./Dropdown.30a0291c.js";import"./menu.d7e912b9.js";function ie(t,e){return o(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})])}function N(t,e){return o(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})])}const z=t=>(U("data-v-63250bf0"),t=t(),P(),t),de=z(()=>r("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Nome do grupo ",-1)),le={class:"grid gap-6 mb-6 lg:grid-cols-2 flex"},ne={for:""},ue=z(()=>r("hr",null,null,-1)),pe=z(()=>r("br",null,null,-1)),me={style:{display:"flex","justify-content":"left"}},ce=["for"],ge=["value","id","checked"],he=z(()=>r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),be={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},fe={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"},ye=["disabled"],E=new v,_e={props:{isOpen:{default:!1},edit:{default:{}}},data(){return{permissionGroup:[],idModal:"modal-create-permission",dataClassModal:null,roles:{},permissionSelected:[],nameGroupPermission:"",disabledBtn:!1,groupRole:[],arrayRole:[]}},watch:{isOpen:function(){this.arrayRole=[],this.groupRole=[],this.permissionSelected=[],this.isOpen&&(this.edit.id&&this.findRole(),this.openModalFormPermission(this.idModal))}},components:{Modal,Buttons:S,Pagination:H},computed:O(h({},w(["permission"])),{namePermission:function(){return t=>{switch(t.split(".")[1]){case"read":return"Visualizar";case"update":return"Atualizar";case"delete":return"Remover";case"create":return"Cadastrar";default:return"N\xE3o configurado"}}}}),methods:{createOrUpdate(){return this.validation()?(this.disabledBtn=!0,this.edit.id?this.updatePermission():this.storePermission()):!1},setCheck(t){t=Object.values(t),this.arrayRole=t,this.arrayRole.forEach(e=>{this.permissionSelected.push({role_id:e.role_id})})},async findRole(){try{let t=await E.get("permission-group/"+this.edit.id);this.nameGroupPermission=t.data.name,this.groupRole=t.data.group_role,this.setCheck(this.groupRole)}catch(t){console.log(t)}},validation(){return this.permissionSelected[0]?this.nameGroupPermission?!0:(j({text:"Nome do grupo e obrigat\xF3rio!",title:"Permiss\xE3o"}),!1):(j({text:"Permiss\xE3o e obrigat\xF3rio!",title:"Permiss\xE3o"}),!1)},async updatePermission(){try{let t=await E.put("permission-group/"+this.edit.id,{permissions:this.permissionSelected,name:this.nameGroupPermission});if(this.disabledBtn=!1,t.data&&t.data.id)return this.modalHide(),this.$emit("createPermission"),B({text:"Grupo de permiss\xE3o configurado com sucesso!",title:"Permiss\xE3o"});p({text:"Ocorreu uma falha ao atualizar grupo de permiss\xE3o",title:"Permiss\xE3o"})}catch(t){this.disabledBtn=!1,console.log(t)}},async storePermission(){try{let t=await E.post("permission-group",{permissions:this.permissionSelected,name:this.nameGroupPermission});if(this.disabledBtn=!1,t.data&&t.data.id)return this.modalHide(),this.$emit("createPermission"),B({text:"Grupo de permiss\xE3o configurado com sucesso!",title:"Permiss\xE3o"});p({text:"Ocorreu uma falha ao cadastrar grupo de permiss\xE3o",title:"Permiss\xE3o"})}catch(t){this.disabledBtn=!1,console.log(t)}},checkPermission(t){let e=t.target.value;t.target.checked?this.permissionSelected.push({role_id:e}):this.permissionSelected=this.permissionSelected.filter(s=>s.role_id!=e)},openModalFormPermission(t){this.roles={},this.nameGroupPermission="",this.getRoles(),this.idModal=t,this.dataClassModal=this.modal(),this.dataClassModal.show()},async getRoles(){try{let t=await E.get("permission-group/role/"),e={};t.data.forEach(s=>{e[s.title]?e[s.title].push(s):e=Object.assign(e,{[s.title]:[s]})}),this.roles=e}catch(t){console.log(t)}},modal(){const t=document.getElementById(this.idModal),e={placement:"bottom-left",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",onHide:()=>{},onShow:()=>{console.log("modal is shown")},onToggle:()=>{console.log("modal has been toggled")}};return new Modal(t,e)},modalHide(){this.dataClassModal.hide(),this.$emit("modalHide")}}},ke=Object.assign(_e,{name:"ModalPermission",setup(t){return(e,s)=>(o(),f(R,{size:"smal",id:this.idModal,onModalHide:e.modalHide,onCreate:e.storePermission,disabledBtn:e.disabledBtn,title:"Configura\xE7\xE3o permiss\xE3o"},{body:m(()=>[r("div",null,[de,c(r("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=a=>re(nameGroupPermission)?nameGroupPermission.value=a:null),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Admin...",required:""},null,512),[[b,e.nameGroupPermission]])]),r("div",le,[(o(!0),d(x,null,k(e.roles,(a,i)=>(o(),d("div",{style:{"padding-right":"15px"},key:i},[r("span",ne,l(i),1),ue,pe,r("div",me,[(o(!0),d(x,null,k(a,_=>(o(),d("label",{for:"toggle"+_.id,class:"inline-flex relative items-center cursor-pointer ml-1",key:_.id},[r("input",{type:"checkbox",onChange:s[1]||(s[1]=(...V)=>e.checkPermission&&e.checkPermission(...V)),value:_.id,id:"toggle"+_.id,class:"sr-only peer checkbox-permission",checked:e.arrayRole.find(V=>V.role_id==_.id)},null,40,ge),he,r("span",be,l(this.namePermission(_.name)),1)],8,ce))),128))])]))),128))])]),footer:m(()=>[r("div",fe,[r("button",{disabled:e.disabledBtn,onClick:s[2]||(s[2]=(...a)=>e.createOrUpdate&&e.createOrUpdate(...a)),"data-modal-toggle":"extralarge-modal",type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},l(t.edit.id?"Atualizar":"Cadastrar"),9,ye),r("button",{onClick:s[3]||(s[3]=(...a)=>e.modalHide&&e.modalHide(...a)),"data-modal-toggle":"extralarge-modal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Voltar ")])]),_:1},8,["id","onModalHide","onCreate","disabledBtn"]))}});var xe=$(ke,[["__scopeId","data-v-63250bf0"]]);const C=t=>(U("data-v-e5c41d54"),t=t(),P(),t),we={key:0,class:"hidden p-4 bg-gray-50 rounded-lg dark:bg-gray-800",id:"settings-example",role:"tabpanel","aria-labelledby":"settings-tab-example"},ve=G(" Cadastar Grupo de permiss\xE3o "),$e={width:"100%",cellpadding:"5",class:"base-table"},Ue=C(()=>r("th",null,"#ID",-1)),Pe=C(()=>r("th",null,"Nome",-1)),Ce=C(()=>r("th",null,"Usu\xE1rios",-1)),Me={key:0},Oe={key:1},Ee={key:0},Be={key:1},Se={class:"flex text-sm transition border-2 border-transparent rounded-md focus:outline-none focus:ring focus:ring-purple-500 focus:ring-offset-1 focus:ring-offset-white dark:focus:ring-offset-dark-eval-1"},Ge=["onClick"],He=C(()=>r("span",{style:{"margin-left":"5px"}},"Editar",-1)),ze={key:1,style:{display:"flex",padding:"10px"}},Ve=C(()=>r("span",{style:{"margin-left":"5px"}},"Remover",-1)),Ie=new v,De={props:{load:{default:!1}},data(){return{permissionGroup:[],isOpen:!1,permissionEdit:{}}},computed:h({},w(["permission"])),watch:{load:function(){this.load&&this.settings()}},components:{Buttons:S,Pagination:H},methods:{edit(t){this.openModal(),this.permissionEdit=t},modalHide(){this.isOpen=!1},openModal(){this.isOpen=!0,this.permissionEdit={}},async settings(t=null){try{this.isOpen=!1;let e="";t?e="permission-group?page="+t.url.split("?page=")[1]:e="permission-group";let s=await Ie.get(e);this.permissionGroup=s.data}catch(e){console.log(e)}}}},Re=Object.assign(De,{name:"IndexPermission",setup(t){return(e,s)=>e.permission("permission-group.read")?(o(),d("div",we,[u(S,{class:A(" float-right mb-3"),onClick:e.openModal},{default:m(()=>[ve]),_:1},8,["onClick"]),r("table",$e,[r("thead",null,[r("tr",null,[Ue,Pe,Ce,g(I).isOpen?(o(),d("th",Me,"Data Atualiza\xE7\xE3o")):n("",!0),(this.permission("permission-group.update")||this.permission("permission-group.delete"))&&g(I).isOpen?(o(),d("th",Oe,"Editar")):n("",!0)])]),r("tbody",null,[(o(!0),d(x,null,k(e.permissionGroup.data,a=>(o(),d("tr",{key:a.id},[r("td",null,l(a.id),1),r("td",null,l(a.name),1),r("td",null,l(a.total),1),g(I).isOpen?(o(),d("td",Ee,l(g(ae)(a.updated_at).format("DD/MM/YYYY")),1)):n("",!0),this.permission("permission-group.update")||this.permission("permission-group.delete")?(o(),d("td",Be,[a.default?n("",!0):(o(),f(oe,{key:0,align:"right",width:"48"},{trigger:m(()=>[r("button",Se,[u(g(te),{class:"flex-shrink-0 w-6 h-6","aria-hidden":"true"})])]),content:m(()=>[this.permission("permission-group.update")?(o(),d("button",{key:0,style:{display:"flex",padding:"10px"},onClick:i=>e.edit(a)},[u(g(N),{class:"flex-shrink-0 w-6 h-6","aria-hidden":"true"}),He],8,Ge)):n("",!0),this.permission("permission-group.delete")?(o(),d("button",ze,[u(g(ie),{class:"flex-shrink-0 w-6 h-6","aria-hidden":"true"}),Ve])):n("",!0)]),_:2},1024))])):n("",!0)]))),128))])]),u(H,{onChangePage:e.settings,links:e.permissionGroup.links},null,8,["onChangePage","links"]),u(xe,{isOpen:e.isOpen,edit:e.permissionEdit,onCreatePermission:e.settings,onModalHide:e.modalHide},null,8,["isOpen","edit","onCreatePermission","onModalHide"])])):n("",!0)}});var F=$(Re,[["__scopeId","data-v-e5c41d54"]]);const y=t=>(U("data-v-2f356e82"),t=t(),P(),t),qe={class:"grid gap-6 mb-6 lg:grid-cols-2"},Te=y(()=>r("label",{for:"first_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Primeiro nome",-1)),je=y(()=>r("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Sobrenome",-1)),Ae=y(()=>r("label",{for:"phone",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Telefone",-1)),Ne={class:"mb-6"},Fe=y(()=>r("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"E-mail",-1)),Ye=["disabled"],Le={class:"mb-6"},Je=y(()=>r("label",{for:"confirm_password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Grupo de permiss\xE3o",-1)),We=["value"],Ze={class:"mb-6"},Ke=y(()=>r("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Senha",-1)),Qe={class:"mb-6"},Xe=y(()=>r("label",{for:"confirm_password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Confirm password",-1)),et={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"},tt=["disabled"],D=new v,rt={props:{isOpen:{default:!1},userEdit:{default:null}},data(){return{permissionGroup:[],loadPermission:!1,disabledBtn:!1,idModal:"modal-user",user:{first_name:null,last_name:null,phone:null,email:null,password:null,confirm_password:null,permission_group_id:null}}},watch:{isOpen:function(){this.isOpen&&this.openModal()},userEdit:function(){this.userEdit.id&&(this.user=this.userEdit)}},components:{BaseModal:R},computed:O(h({},w(["permission"])),{permissionUser(){return this.userEdit?"user.update":"user.create"}}),methods:{async createOrUpdate(){return this.validation()?(this.disabledBtn=!0,this.userEdit.id?await this.updateUser():await this.createUser()):!1},async createUser(){try{let t=await D.post("user/register",this.user);return this.disabledBtn=!1,t.data.success?(this.modalHide(),this.$emit("createUser",t.data),B({text:"Usu\xE1rio cadastrado com sucesso!",title:"Usu\xE1rio"})):p({text:"Falha ao cadastrar usu\xE1rio!",title:"Usu\xE1rio"})}catch{this.disabledBtn=!1}},async updateUser(){try{this.disabledBtn=!0;let t=await D.put("user/"+this.user.id,O(h({},this.user),{email:""}));return this.disabledBtn=!1,t.data.id?(this.modalHide(),this.$emit("updateUser",t.data),B({text:"Usu\xE1rio atualizado com sucesso!",title:"Usu\xE1rio"})):p({text:"Falha ao atualizar usu\xE1rio!",title:"Usu\xE1rio"})}catch(t){this.disabledBtn=!1,console.log(t)}},validationPassword(){if(this.userEdit.id&&!this.user.password&&!this.user.confirm_password)return!0;if(this.user.password){if(this.user.password.length<8)return p({text:"Senha muito curta!",title:"Usu\xE1rio"}),!1;if(this.user.password!==this.user.confirm_password)return p({text:"Senhas n\xE3o conferem!",title:"Usu\xE1rio"}),!1}else return p({text:"Obrigat\xF3rio informar a senha!",title:"Usu\xE1rio"}),!1;return!0},validation(){if(this.user.first_name)if(this.user.email)if(this.user.permission_group_id){if(!this.validationPassword())return!1}else return p({text:"Obrigat\xF3rio informar o grupo de permiss\xE3o!",title:"Usu\xE1rio"}),!1;else return p({text:"Obrigatorio informar o E-mail!",title:"Usu\xE1rio"}),!1;else return p({text:"Obrigat\xF3rio informar o nome!",title:"Usu\xE1rio"}),!1;return!0},async getPermissionGroup(){try{let t=await D.get("permission-group/list");this.permissionGroup=t.data}catch(t){console.log(t)}},async openModal(){await this.getPermissionGroup(),this.dataClassModal=this.modal(),this.dataClassModal.show()},modal(){const t=document.getElementById("modal-user"),e={placement:"bottom-left",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",onHide:()=>{},onShow:()=>{},onToggle:()=>{}};return new Modal(t,e)},modalHide(){this.disabledBtn=!1,this.user={first_name:null,last_name:null,phone:null,email:null,password:null,confirm_password:null,permission_group_id:null},this.dataClassModal.hide(),this.$emit("modalHide")}}},st=Object.assign(rt,{name:"ModalUser",setup(t){return(e,s)=>e.permission(e.permissionUser)?(o(),f(R,{key:0,size:"smal",id:this.idModal,title:t.userEdit.id?"Atualizar usu\xE1rio":"Cadastrar usu\xE1rio"},{body:m(()=>{var a;return[r("form",null,[r("div",qe,[r("div",null,[Te,c(r("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>e.user.first_name=i),type:"text",id:"first_name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"John",required:""},null,512),[[b,e.user.first_name]])]),r("div",null,[je,c(r("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>e.user.last_name=i),type:"text",id:"last_name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Doe",required:""},null,512),[[b,e.user.last_name]])]),r("div",null,[Ae,c(r("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>e.user.phone=i),type:"tel",id:"phone",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"123-45-678",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{3}",required:""},null,512),[[b,e.user.phone]])])]),r("div",Ne,[Fe,c(r("input",{disabled:(a=t.userEdit.id)!=null?a:!1,"onUpdate:modelValue":s[3]||(s[3]=i=>e.user.email=i),type:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"john.doe@company.com",required:""},null,8,Ye),[[b,e.user.email]])]),r("div",Le,[Je,c(r("select",{"onUpdate:modelValue":s[4]||(s[4]=i=>e.user.permission_group_id=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[(o(!0),d(x,null,k(e.permissionGroup,i=>(o(),d("option",{key:i.id,value:i.id},l(i.name),9,We))),128))],512),[[se,e.user.permission_group_id]])]),r("div",Ze,[Ke,c(r("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>e.user.password=i),type:"password",id:"password",maxlength:"8",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:""},null,512),[[b,e.user.password]])]),r("div",Qe,[Xe,c(r("input",{"onUpdate:modelValue":s[6]||(s[6]=i=>e.user.confirm_password=i),type:"password",id:"confirm_password",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:""},null,512),[[b,e.user.confirm_password]])])])]}),footer:m(()=>[r("div",et,[r("button",{disabled:e.disabledBtn,onClick:s[7]||(s[7]=(...a)=>e.createOrUpdate&&e.createOrUpdate(...a)),"data-modal-toggle":"extralarge-modal",type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},l(t.userEdit.id?"Atualizar":"Cadastrar"),9,tt),r("button",{onClick:s[8]||(s[8]=(...a)=>e.modalHide&&e.modalHide(...a)),"data-modal-toggle":"extralarge-modal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Voltar ")])]),_:1},8,["id","title"])):n("",!0)}});var Y=$(st,[["__scopeId","data-v-2f356e82"]]);const M=t=>(U("data-v-07d9e6e8"),t=t(),P(),t),at={class:"hidden p-4 bg-gray-50 rounded-lg dark:bg-gray-800",id:"profile-example",role:"tabpanel","aria-labelledby":"profile-tab-example"},ot=G(" Cadastar Usu\xE1rio "),it={width:"100%",cellpadding:"5",class:"base-table"},dt=M(()=>r("th",null,"#ID",-1)),lt=M(()=>r("th",null,"Nome",-1)),nt=M(()=>r("th",null,"Email",-1)),ut=M(()=>r("th",null,"Telefone",-1)),pt=M(()=>r("th",null,"Grupo",-1)),mt={key:0},ct={key:0},gt=["onClick"],ht=new v,bt={props:{load:{default:!0}},data(){return{usersData:[],isOpen:!1,userData:{}}},watch:{load:function(){this.load&&this.users()}},components:{ModalUser:Y},computed:h({},w(["permission"])),methods:{editUser(t){this.openModal(),this.userData=t},openModal(){this.isOpen=!0,this.userData={}},modalHide(){this.isOpen=!1,this.edit=!1,this.userData={}},async users(){try{let t=await ht.get("user");this.usersData=t.data}catch(t){console.log(t)}}}},ft=Object.assign(bt,{name:"IndexUser",setup(t){return(e,s)=>(o(),d("div",at,[e.permission("user.create")?(o(),f(S,{key:0,class:A("float-right mb-3"),onClick:e.openModal},{default:m(()=>[ot]),_:1},8,["onClick"])):n("",!0),r("table",it,[r("thead",null,[r("tr",null,[dt,lt,nt,ut,pt,e.permission("user.update")?(o(),d("th",mt,"A\xE7\xE3o")):n("",!0)])]),r("tbody",null,[(o(!0),d(x,null,k(e.usersData.data,a=>(o(),d("tr",{key:a.id},[r("td",null,l(a.id),1),r("td",null,l(a.first_name)+" "+l(a.last_name),1),r("td",null,l(a.phone),1),r("td",null,l(a.email),1),r("td",null,l(a.permission_group),1),e.permission("user.update")?(o(),d("td",ct,[r("button",{onClick:i=>e.editUser(a)},[u(g(N),{style:{width:"25px"}})],8,gt)])):n("",!0)]))),128))])]),u(H,{onChangePage:e.users,links:e.usersData.links},null,8,["onChangePage","links"]),u(Y,{isOpen:e.isOpen,onCreateUser:e.users,onModalHide:e.modalHide,onUpdateUser:e.users,userEdit:e.userData},null,8,["isOpen","onCreateUser","onModalHide","onUpdateUser","userEdit"])]))}});var L=$(ft,[["__scopeId","data-v-07d9e6e8"]]);const J=t=>(U("data-v-773c2825"),t=t(),P(),t),yt={class:"mb-4 border-b border-gray-200 dark:border-gray-700"},_t={class:"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400",id:"tabExample",role:"tablist"},kt=J(()=>r("li",{class:"mr-2",role:"presentation"},[r("button",{class:"inline-flex p-4 rounded-t-lg border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group",id:"profile-tab-example",type:"button",role:"tab","aria-controls":"profile-example","aria-selected":"false"},[r("svg",{class:"mr-2 w-5 h-5 text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})]),G(" Usu\xE1rios ")])],-1)),xt={key:0,class:"mr-2",role:"presentation"},wt=J(()=>r("button",{class:"inline-flex p-4 rounded-t-lg border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 group",id:"settings-tab-example",type:"button",role:"tab","aria-controls":"settings-example","aria-selected":"false"},[r("svg",{class:"mr-2 w-5 h-5 text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"})]),G(" Configura\xE7\xE3o ")],-1)),vt=[wt],$t={id:"tabContentExample"};new v;const Ut={data(){return{usersData:[],loadUsers:!1,loadPermission:!1}},components:{IndexPermission:F,IndexUsers:L},computed:h({},w(["permission"])),methods:{},mounted(){const t=[{id:"profile",triggerEl:document.querySelector("#profile-tab-example"),targetEl:document.querySelector("#profile-example")}];this.permission("permission-group.read")&&t.push({id:"settings",triggerEl:document.querySelector("#settings-tab-example"),targetEl:document.querySelector("#settings-example")});const e={defaultTabId:"settings",activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-400 border-blue-600 dark:border-blue-500",inactiveClasses:"text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:async a=>{switch(a._activeTab.id){case"settings":return this.loadPermission=!0;case"profile":return this.loadUsers=!0}this.loadUsers=!1,this.loadPermission=!1}},s=new Tabs(t,e);s.show("profile"),s.getActiveTab()}},Pt=Object.assign(Ut,{name:"User",setup(t){return(e,s)=>(o(),f(ee,{title:"Usu\xE1rios"},{default:m(()=>[r("div",yt,[r("ul",_t,[kt,e.permission("permission-group.read")?(o(),d("li",xt,vt)):n("",!0)])]),r("div",$t,[u(L,{load:e.loadUsers},null,8,["load"]),u(F,{load:e.loadPermission},null,8,["load"])])]),_:1}))}});var zt=$(Pt,[["__scopeId","data-v-773c2825"]]);export{zt as default};
