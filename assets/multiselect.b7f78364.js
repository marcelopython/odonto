var cu=Object.defineProperty;var Ne=Object.getOwnPropertySymbols;var vu=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable;var Ge=(e,t,a)=>t in e?cu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,J=(e,t)=>{for(var a in t||(t={}))vu.call(t,a)&&Ge(e,a,t[a]);if(Ne)for(var a of Ne(t))pu.call(t,a)&&Ge(e,a,t[a]);return e};import{C as ne,y as X,K as m,a1 as ce,Q as Ke,j as _,m as M,E as A,D as Ue,a2 as We,F as ge,R as Oe,c as T,B as je,z as N,a3 as du,b as fu}from"./index.e62267ef.js";function ee(e){return[null,void 0,!1].indexOf(e)!==-1}function ze(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function Ae(e){return(Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(j){return Object.getOwnPropertyDescriptor(e,j).enumerable})),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Qe(Object(a),!0).forEach(function(n){U(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gu(e,t,a){var n=ne(e),j=n.options,F=n.mode,i=n.trackBy,I=n.limit,L=n.hideSelected,E=n.createTag,ue=n.createOption,P=n.label,k=n.appendNewTag,w=n.appendNewOption,d=n.multipleLabel,s=n.object,g=n.loading,D=n.delay,l=n.resolveOnLoad,v=n.minChars,b=n.filterResults,S=n.clearOnSearch,B=n.clearOnSelect,c=n.valueProp,ie=n.canDeselect,G=n.max,Y=n.strict,W=n.closeOnSelect,y=n.groups,x=(n.groupLabel,n.groupOptions),le=n.groupHideEmpty,ve=n.groupSelect,V=du().proxy,p=a.iv,H=a.ev,O=a.search,Z=a.clearSearch,K=a.update,R=a.pointer,pe=a.clearPointer,be=a.blur,Le=a.focus,Ce=a.deactivate,me=X([]),z=X([]),Q=X(!1),re=X(null),he=m(function(){return E.value||ue.value||!1}),o=m(function(){return k.value!==void 0?k.value:w.value===void 0||w.value}),f=m(function(){if(y.value){var u=z.value||[],r=[];return u.forEach(function(C){qe(C[x.value]).forEach(function(q){r.push(Object.assign({},q,C.disabled?{disabled:!0}:{}))})}),r}var h=qe(z.value||[]);return me.value.length&&(h=h.concat(me.value)),h}),$=m(function(){return y.value?su((z.value||[]).map(function(u){var r,h=qe(u[x.value]);return Je(Je({},u),{},(U(r={group:!0},x.value,Te(h,!1).map(function(C){return Object.assign({},C,u.disabled?{disabled:!0}:{})})),U(r,"__VISIBLE__",Te(h).map(function(C){return Object.assign({},C,u.disabled?{disabled:!0}:{})})),r))})):[]}),te=m(function(){var u=f.value;return Be.value.length&&(u=Be.value.concat(u)),u=Te(u),I.value>0&&(u=u.slice(0,I.value)),u}),Ee=m(function(){switch(F.value){case"single":return!ee(p.value[c.value]);case"multiple":case"tags":return!ee(p.value)&&p.value.length>0}}),Ze=m(function(){return d!==void 0&&d.value!==void 0?d.value(p.value,V):p.value&&p.value.length>1?"".concat(p.value.length," options selected"):"1 option selected"}),eu=m(function(){return!f.value.length&&!Q.value&&!Be.value.length}),uu=m(function(){return f.value.length>0&&te.value.length==0&&(O.value&&y.value||!y.value)}),Be=m(function(){var u;return he.value!==!1&&O.value?ru(O.value)!==-1?[]:[(u={},U(u,c.value,O.value),U(u,P.value,O.value),U(u,De.value,O.value),u)]:[]}),De=m(function(){return i.value||P.value}),tu=m(function(){switch(F.value){case"single":return null;case"multiple":case"tags":return[]}}),au=m(function(){return g.value||Q.value}),de=function(u){switch(Ae(u)!=="object"&&(u=ae(u)),F.value){case"single":K(u);break;case"multiple":case"tags":K(p.value.concat(u))}t.emit("select",Ve(u),u)},fe=function(u){switch(Ae(u)!=="object"&&(u=ae(u)),F.value){case"single":Re();break;case"tags":case"multiple":K(Array.isArray(u)?p.value.filter(function(r){return u.map(function(h){return h[c.value]}).indexOf(r[c.value])===-1}):p.value.filter(function(r){return r[c.value]!=u[c.value]}))}t.emit("deselect",Ve(u),u)},Ve=function(u){return s.value?u:u[c.value]},He=function(u){fe(u)},Re=function(){t.emit("clear"),K(tu.value)},oe=function(u){if(u.group!==void 0)return F.value!=="single"&&lu(u[x.value])&&u[x.value].length;switch(F.value){case"single":return!ee(p.value)&&p.value[c.value]==u[c.value];case"tags":case"multiple":return!ee(p.value)&&p.value.map(function(r){return r[c.value]}).indexOf(u[c.value])!==-1}},Pe=function(u){return u.disabled===!0},ke=function(){return!(G===void 0||G.value===-1||!Ee.value&&G.value>0)&&p.value.length>=G.value},we=function(u){ae(u[c.value])===void 0&&he.value&&(t.emit("tag",u[c.value]),t.emit("option",u[c.value]),o.value&&ou(u),Z())},nu=function(u){return u.find(function(r){return!oe(r)&&!r.disabled})===void 0},lu=function(u){return u.find(function(r){return!oe(r)})===void 0},ae=function(u){return f.value[f.value.map(function(r){return String(r[c.value])}).indexOf(String(u))]},ru=function(u){return f.value.map(function(r){return r[De.value]}).indexOf(u)},iu=function(u){return["tags","multiple"].indexOf(F.value)!==-1&&L.value&&oe(u)},ou=function(u){me.value.push(u)},su=function(u){return le.value?u.filter(function(r){return O.value?r.__VISIBLE__.length:r[x.value].length}):u.filter(function(r){return!O.value||r.__VISIBLE__.length})},Te=function(u){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=u;return O.value&&b.value&&(h=h.filter(function(C){return ze(C[De.value],Y.value).indexOf(ze(O.value,Y.value))!==-1})),L.value&&r&&(h=h.filter(function(C){return!iu(C)})),h},qe=function(u){var r,h=u;return r=h,Object.prototype.toString.call(r)==="[object Object]"&&(h=Object.keys(h).map(function(C){var q,se=h[C];return U(q={},c.value,C),U(q,De.value,se),U(q,P.value,se),q})),h=h.map(function(C){var q;return Ae(C)==="object"?C:(U(q={},c.value,C),U(q,De.value,C),U(q,P.value,C),q)})},ye=function(){ee(H.value)||(p.value=Se(H.value))},Fe=function(u){return Q.value=!0,new Promise(function(r,h){j.value(O.value,V).then(function(C){z.value=C||[],typeof u=="function"&&u(C),Q.value=!1}).catch(function(C){console.error(C),z.value=[],Q.value=!1}).finally(function(){r()})})},xe=function(){if(Ee.value)if(F.value==="single"){var u=ae(p.value[c.value]);if(u!==void 0){var r=u[P.value];p.value[P.value]=r,s.value&&(H.value[P.value]=r)}}else p.value.forEach(function(h,C){var q=ae(p.value[C][c.value]);if(q!==void 0){var se=q[P.value];p.value[C][P.value]=se,s.value&&(H.value[C][P.value]=se)}})},Se=function(u){return ee(u)?F.value==="single"?{}:[]:s.value?u:F.value==="single"?ae(u)||{}:u.filter(function(r){return!!ae(r)}).map(function(r){return ae(r)})},$e=function(){re.value=ce(O,function(u){u.length<v.value||!u||(Q.value=!0,S.value&&(z.value=[]),setTimeout(function(){u==O.value&&j.value(O.value,V).then(function(r){u!=O.value&&O.value||(z.value=r,R.value=te.value.filter(function(h){return h.disabled!==!0})[0]||null,Q.value=!1)}).catch(function(r){console.error(r)})},D.value))},{flush:"sync"})};if(F.value!=="single"&&!ee(H.value)&&!Array.isArray(H.value))throw new Error('v-model must be an array when using "'.concat(F.value,'" mode'));return j&&typeof j.value=="function"?l.value?Fe(ye):s.value==1&&ye():(z.value=j.value,ye()),D.value>-1&&$e(),ce(D,function(u,r){re.value&&re.value(),u>=0&&$e()}),ce(H,function(u){var r,h,C;if(ee(u))p.value=Se(u);else switch(F.value){case"single":(s.value?u[c.value]!=p.value[c.value]:u!=p.value[c.value])&&(p.value=Se(u));break;case"multiple":case"tags":r=s.value?u.map(function(q){return q[c.value]}):u,h=p.value.map(function(q){return q[c.value]}),C=h.slice().sort(),r.length===h.length&&r.slice().sort().every(function(q,se){return q===C[se]})||(p.value=Se(u))}},{deep:!0}),ce(j,function(u,r){typeof e.options=="function"?l.value&&Fe(function(){Object.keys(p.value).length&&ye()}):(z.value=e.options,Object.keys(p.value).length||ye(),xe())}),ce(P,xe),{fo:te,filteredOptions:te,hasSelected:Ee,multipleLabelText:Ze,eo:f,extendedOptions:f,fg:$,filteredGroups:$,noOptions:eu,noResults:uu,resolving:Q,busy:au,select:de,deselect:fe,remove:He,selectAll:function(){F.value!=="single"&&de(te.value)},clear:Re,isSelected:oe,isDisabled:Pe,isMax:ke,getOption:ae,handleOptionClick:function(u){if(!Pe(u)){switch(F.value){case"single":if(oe(u))return void(ie.value&&fe(u));we(u),be(),de(u);break;case"multiple":if(oe(u))return void fe(u);if(ke())return;we(u),de(u),B.value&&Z(),L.value&&pe(),W.value&&be();break;case"tags":if(oe(u))return void fe(u);if(ke())return;we(u),B.value&&Z(),de(u),L.value&&pe(),W.value&&be()}W.value?Ce():Le()}},handleGroupClick:function(u){if(!Pe(u)&&F.value!=="single"&&ve.value){switch(F.value){case"multiple":case"tags":nu(u[x.value])?fe(u[x.value]):de(u[x.value].filter(function(r){return p.value.map(function(h){return h[c.value]}).indexOf(r[c.value])===-1}).filter(function(r){return!r.disabled}).filter(function(r,h){return p.value.length+1+h<=G.value||G.value===-1}))}W.value&&Ce()}},handleTagRemove:function(u,r){r.button===0?He(u):r.preventDefault()},refreshOptions:function(u){Fe(u)},resolveOptions:Fe,refreshLabels:xe}}function Ie(e){return function(t){if(Array.isArray(t))return _e(t)}(e)||function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,a){if(!!t){if(typeof t=="string")return _e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(t,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _e(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function bu(e){return function(t){if(Array.isArray(t))return Me(t)}(e)||function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,a){if(!!t){if(typeof t=="string")return Me(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(t,a)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Me(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(j){return Object.getOwnPropertyDescriptor(e,j).enumerable})),a.push.apply(a,n)}return a}function mu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hu(e,t,a){var n=ne(e),j=n.classes,F=n.disabled,i=n.openDirection,I=n.showOptions,L=a.isOpen,E=a.isPointed,ue=a.isSelected,P=a.isDisabled,k=a.isActive,w=a.canPointGroups,d=a.resolving,s=a.fo,g=m(function(){return function(l){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?Xe(Object(b),!0).forEach(function(S){mu(l,S,b[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):Xe(Object(b)).forEach(function(S){Object.defineProperty(l,S,Object.getOwnPropertyDescriptor(b,S))})}return l}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},j.value)}),D=m(function(){return!!(L.value&&I.value&&(!d.value||d.value&&s.value.length))});return{classList:m(function(){var l=g.value;return{container:[l.container].concat(F.value?l.containerDisabled:[]).concat(D.value&&i.value==="top"?l.containerOpenTop:[]).concat(D.value&&i.value!=="top"?l.containerOpen:[]).concat(k.value?l.containerActive:[]),spacer:l.spacer,singleLabel:l.singleLabel,singleLabelText:l.singleLabelText,multipleLabel:l.multipleLabel,search:l.search,tags:l.tags,tag:[l.tag].concat(F.value?l.tagDisabled:[]),tagRemove:l.tagRemove,tagRemoveIcon:l.tagRemoveIcon,tagsSearchWrapper:l.tagsSearchWrapper,tagsSearch:l.tagsSearch,tagsSearchCopy:l.tagsSearchCopy,placeholder:l.placeholder,caret:[l.caret].concat(L.value?l.caretOpen:[]),clear:l.clear,clearIcon:l.clearIcon,spinner:l.spinner,dropdown:[l.dropdown].concat(i.value==="top"?l.dropdownTop:[]).concat(L.value&&I.value&&D.value?[]:l.dropdownHidden),options:[l.options].concat(i.value==="top"?l.optionsTop:[]),group:l.group,groupLabel:function(v){var b=[l.groupLabel];return E(v)?b.push(ue(v)?l.groupLabelSelectedPointed:l.groupLabelPointed):ue(v)&&w.value?b.push(P(v)?l.groupLabelSelectedDisabled:l.groupLabelSelected):P(v)&&b.push(l.groupLabelDisabled),w.value&&b.push(l.groupLabelPointable),b},groupOptions:l.groupOptions,option:function(v,b){var S=[l.option];return E(v)?S.push(ue(v)?l.optionSelectedPointed:l.optionPointed):ue(v)?S.push(P(v)?l.optionSelectedDisabled:l.optionSelected):(P(v)||b&&P(b))&&S.push(l.optionDisabled),S},noOptions:l.noOptions,noResults:l.noResults,fakeInput:l.fakeInput}}),showDropdown:D}}var Ye={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:[Object],default:()=>({})}},setup(e,t){const a=function(k,w){var d=ne(k),s=d.value,g=d.modelValue,D=d.mode,l=d.valueProp,v=X(D.value!=="single"?[]:{}),b=w.expose!==void 0?g:s,S=m(function(){return D.value==="single"?v.value[l.value]:v.value.map(function(c){return c[l.value]})}),B=m(function(){return D.value!=="single"?v.value.map(function(c){return c[l.value]}).join(","):v.value[l.value]});return{iv:v,internalValue:v,ev:b,externalValue:b,textValue:B,plainValue:S}}(e,t),n=function(k,w,d){var s=ne(k),g=s.groupSelect,D=s.mode,l=s.groups,v=X(null),b=function(S){S===void 0||S!==null&&S.disabled||l.value&&S&&S.group&&(D.value==="single"||!g.value)||(v.value=S)};return{pointer:v,setPointer:b,clearPointer:function(){b(null)}}}(e),j=function(k,w,d){var s=ne(k).disabled,g=X(!1);return{isOpen:g,open:function(){g.value||s.value||(g.value=!0,w.emit("open"))},close:function(){g.value&&(g.value=!1,w.emit("close"))}}}(e,t),F=function(k,w,d){var s=X(null),g=X(null);return ce(s,function(D){w.emit("search-change",D)}),{search:s,input:g,clearSearch:function(){s.value=""},handleSearchInput:function(D){s.value=D.target.value},handlePaste:function(D){w.emit("paste",D)}}}(0,t),i=function(k,w,d){var s=ne(k),g=s.object,D=s.valueProp,l=s.mode,v=d.iv,b=function(B){return g.value||ee(B)?B:Array.isArray(B)?B.map(function(c){return c[D.value]}):B[D.value]},S=function(B){return ee(B)?l.value==="single"?{}:[]:B};return{update:function(B){v.value=S(B);var c=b(B);w.emit("change",c),w.emit("input",c),w.emit("update:modelValue",c)}}}(e,t,{iv:a.iv}),I=function(k,w,d){var s=ne(k),g=s.searchable,D=s.disabled,l=d.input,v=d.open,b=d.close,S=d.clearSearch,B=X(null),c=X(!1),ie=m(function(){return g.value||D.value?-1:0}),G=function(){g.value&&l.value.blur(),B.value.blur()},Y=function(){g.value&&!D.value&&l.value.focus()},W=function(){c.value=!1,setTimeout(function(){c.value||(b(),S())},1)};return{multiselect:B,tabindex:ie,isActive:c,blur:G,focus:Y,handleFocus:function(){Y()},activate:function(){D.value||(c.value=!0,v())},deactivate:W,handleCaretClick:function(){W(),G()}}}(e,0,{input:F.input,open:j.open,close:j.close,clearSearch:F.clearSearch}),L=gu(e,t,{ev:a.ev,iv:a.iv,search:F.search,clearSearch:F.clearSearch,update:i.update,pointer:n.pointer,clearPointer:n.clearPointer,blur:I.blur,focus:I.focus,deactivate:I.deactivate}),E=function(k,w,d){var s=ne(k),g=s.valueProp,D=s.showOptions,l=s.searchable,v=s.groupLabel,b=s.groups,S=s.mode,B=s.groupSelect,c=d.fo,ie=d.fg,G=d.handleOptionClick,Y=d.handleGroupClick,W=d.search,y=d.pointer,x=d.setPointer,le=d.clearPointer,ve=d.multiselect,V=m(function(){return c.value.filter(function(o){return!o.disabled})}),p=m(function(){return ie.value.filter(function(o){return!o.disabled})}),H=m(function(){return S.value!=="single"&&B.value}),O=m(function(){return y.value&&y.value.group}),Z=m(function(){return re(y.value)}),K=m(function(){var o=O.value?y.value:re(y.value),f=p.value.map(function(te){return te[v.value]}).indexOf(o[v.value]),$=p.value[f-1];return $===void 0&&($=pe.value),$}),R=m(function(){var o=p.value.map(function(f){return f.label}).indexOf(O.value?y.value[v.value]:re(y.value)[v.value])+1;return p.value.length<=o&&(o=0),p.value[o]}),pe=m(function(){return Ie(p.value).slice(-1)[0]}),be=m(function(){return y.value.__VISIBLE__.filter(function(o){return!o.disabled})[0]}),Le=m(function(){var o=Z.value.__VISIBLE__.filter(function(f){return!f.disabled});return o[o.map(function(f){return f[g.value]}).indexOf(y.value[g.value])-1]}),Ce=m(function(){var o=re(y.value).__VISIBLE__.filter(function(f){return!f.disabled});return o[o.map(function(f){return f[g.value]}).indexOf(y.value[g.value])+1]}),me=m(function(){return Ie(K.value.__VISIBLE__.filter(function(o){return!o.disabled})).slice(-1)[0]}),z=m(function(){return Ie(pe.value.__VISIBLE__.filter(function(o){return!o.disabled})).slice(-1)[0]}),Q=function(){x(V.value[0]||null)},re=function(o){return p.value.find(function(f){return f.__VISIBLE__.map(function($){return $[g.value]}).indexOf(o[g.value])!==-1})},he=function(){var o=ve.value.querySelector("[data-pointed]");if(o){var f=o.parentElement.parentElement;b.value&&(f=O.value?o.parentElement.parentElement.parentElement:o.parentElement.parentElement.parentElement.parentElement),o.offsetTop+o.offsetHeight>f.clientHeight+f.scrollTop&&(f.scrollTop=o.offsetTop+o.offsetHeight-f.clientHeight),o.offsetTop<f.scrollTop&&(f.scrollTop=o.offsetTop)}};return ce(W,function(o){l.value&&(o.length&&D.value?Q():le())}),{pointer:y,canPointGroups:H,isPointed:function(o){return!(!y.value||!(!o.group&&y.value[g.value]==o[g.value]||o.group!==void 0&&y.value[v.value]==o[v.value]))||void 0},setPointerFirst:Q,selectPointer:function(){y.value&&y.value.disabled!==!0&&(O.value?Y(y.value):G(y.value))},forwardPointer:function(){if(y.value===null)x((b.value&&H.value?p.value[0]:V.value[0])||null);else if(b.value&&H.value){var o=O.value?be.value:Ce.value;o===void 0&&(o=R.value),x(o||null)}else{var f=V.value.map(function($){return $[g.value]}).indexOf(y.value[g.value])+1;V.value.length<=f&&(f=0),x(V.value[f]||null)}Ke(function(){he()})},backwardPointer:function(){if(y.value===null){var o=V.value[V.value.length-1];b.value&&H.value&&(o=z.value)===void 0&&(o=pe.value),x(o||null)}else if(b.value&&H.value){var f=O.value?me.value:Le.value;f===void 0&&(f=O.value?K.value:Z.value),x(f||null)}else{var $=V.value.map(function(te){return te[g.value]}).indexOf(y.value[g.value])-1;$<0&&($=V.value.length-1),x(V.value[$]||null)}Ke(function(){he()})}}}(e,0,{fo:L.fo,fg:L.fg,handleOptionClick:L.handleOptionClick,handleGroupClick:L.handleGroupClick,search:F.search,pointer:n.pointer,setPointer:n.setPointer,clearPointer:n.clearPointer,multiselect:I.multiselect}),ue=function(k,w,d){var s=ne(k),g=s.mode,D=s.addTagOn,l=s.openDirection,v=s.searchable,b=s.showOptions,S=s.valueProp,B=s.groups,c=s.addOptionOn,ie=s.createTag,G=s.createOption,Y=d.iv,W=d.update,y=d.search,x=d.setPointer,le=d.selectPointer,ve=d.backwardPointer,V=d.forwardPointer,p=d.blur,H=d.fo,O=m(function(){return ie.value||G.value||!1}),Z=m(function(){return D.value!==void 0?D.value:c.value!==void 0?c.value:["enter"]}),K=function(){g.value==="tags"&&!b.value&&O.value&&v.value&&!B.value&&x(H.value[H.value.map(function(R){return R[S.value]}).indexOf(y.value)])};return{handleKeydown:function(R){switch(R.key){case"Backspace":if(g.value==="single"||v.value&&[null,""].indexOf(y.value)===-1||Y.value.length===0)return;W(bu(Y.value).slice(0,-1));break;case"Enter":if(R.preventDefault(),Z.value.indexOf("enter")===-1&&O.value)return;K(),le();break;case" ":if(!O.value&&!v.value)return R.preventDefault(),K(),void le();if(!O.value)return!1;if(Z.value.indexOf("space")===-1&&O.value)return;R.preventDefault(),K(),le();break;case"Tab":case";":case",":if(Z.value.indexOf(R.key.toLowerCase())===-1||!O.value)return;K(),le(),R.preventDefault();break;case"Escape":p();break;case"ArrowUp":if(R.preventDefault(),!b.value)return;l.value==="top"?V():ve();break;case"ArrowDown":if(R.preventDefault(),!b.value)return;l.value==="top"?ve():V()}},preparePointer:K}}(e,0,{iv:a.iv,update:i.update,search:F.search,setPointer:n.setPointer,selectPointer:E.selectPointer,backwardPointer:E.backwardPointer,forwardPointer:E.forwardPointer,blur:I.blur,fo:L.fo}),P=hu(e,0,{isOpen:j.isOpen,isPointed:E.isPointed,canPointGroups:E.canPointGroups,isSelected:L.isSelected,isDisabled:L.isDisabled,isActive:I.isActive,resolving:L.resolving,fo:L.fo});return J(J(J(J(J(J(J(J(J(J({},a),j),I),n),i),F),L),E),ue),P)}};Ye.render=function(e,t,a,n,j,F){return _(),M("div",{ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:a.id,onFocusin:t[7]||(t[7]=(...i)=>e.activate&&e.activate(...i)),onFocusout:t[8]||(t[8]=(...i)=>e.deactivate&&e.deactivate(...i)),onKeydown:t[9]||(t[9]=(...i)=>e.handleKeydown&&e.handleKeydown(...i)),onFocus:t[10]||(t[10]=(...i)=>e.handleFocus&&e.handleFocus(...i))},[A(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(_(),M("input",Ue({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete},a.attrs,{onInput:t[1]||(t[1]=(...i)=>e.handleSearchInput&&e.handleSearchInput(...i)),onPaste:t[2]||(t[2]=We((...i)=>e.handlePaste&&e.handlePaste(...i),["stop"])),ref:"input"}),null,16,["type","modelValue","value","autocomplete"])):A("v-if",!0),A(" Tags (with search) "),a.mode=="tags"?(_(),M("div",{key:1,class:e.classList.tags},[(_(!0),M(ge,null,Oe(e.iv,(i,I,L)=>N(e.$slots,"tag",{option:i,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(_(),M("span",{class:e.classList.tag,key:L},[fu(je(i[a.label])+" ",1),a.disabled?A("v-if",!0):(_(),M("span",{key:0,class:e.classList.tagRemove,onClick:E=>e.handleTagRemove(i,E)},[T("span",{class:e.classList.tagRemoveIcon},null,2)],10,["onClick"]))],2))])),256)),T("div",{class:e.classList.tagsSearchWrapper},[A(" Used for measuring search width "),T("span",{class:e.classList.tagsSearchCopy},je(e.search),3),A(" Actual search input "),a.searchable&&!a.disabled?(_(),M("input",Ue({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,autocomplete:a.autocomplete},a.attrs,{onInput:t[3]||(t[3]=(...i)=>e.handleSearchInput&&e.handleSearchInput(...i)),onPaste:t[4]||(t[4]=We((...i)=>e.handlePaste&&e.handlePaste(...i),["stop"])),ref:"input"}),null,16,["type","modelValue","value","autocomplete"])):A("v-if",!0)],2)],2)):A("v-if",!0),A(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?N(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[T("div",{class:e.classList.singleLabel},[T("span",{class:e.classList.singleLabelText,innerHTML:e.iv[a.label]},null,10,["innerHTML"])],2)]):A("v-if",!0),A(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?N(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[T("div",{class:e.classList.multipleLabel,innerHTML:e.multipleLabelText},null,10,["innerHTML"])]):A("v-if",!0),A(" Placeholder "),!a.placeholder||e.hasSelected||e.search?A("v-if",!0):N(e.$slots,"placeholder",{key:4},()=>[T("div",{class:e.classList.placeholder},je(a.placeholder),3)]),A(" Spinner "),e.busy&&e.isActive?N(e.$slots,"spinner",{key:5},()=>[T("span",{class:e.classList.spinner},null,2)]):A("v-if",!0),A(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?N(e.$slots,"clear",{key:6,clear:e.clear},()=>[T("span",{class:e.classList.clear,onMousedown:t[5]||(t[5]=(...i)=>e.clear&&e.clear(...i))},[T("span",{class:e.classList.clearIcon},null,2)],34)]):A("v-if",!0),A(" Caret "),a.caret&&a.showOptions?N(e.$slots,"caret",{key:7},()=>[T("span",{class:e.classList.caret,onClick:t[6]||(t[6]=(...i)=>e.handleCaretClick&&e.handleCaretClick(...i))},null,2)]):A("v-if",!0),A(" Options "),T("div",{class:e.classList.dropdown,tabindex:"-1"},[N(e.$slots,"beforelist",{options:e.fo}),T("ul",{class:e.classList.options},[a.groups?(_(!0),M(ge,{key:0},Oe(e.fg,(i,I,L)=>(_(),M("li",{class:e.classList.group,key:L},[T("div",{class:e.classList.groupLabel(i),"data-pointed":e.isPointed(i),onMouseenter:E=>e.setPointer(i),onClick:E=>e.handleGroupClick(i)},[N(e.$slots,"grouplabel",{group:i},()=>[T("span",{innerHTML:i[a.groupLabel]},null,8,["innerHTML"])])],42,["data-pointed","onMouseenter","onClick"]),T("ul",{class:e.classList.groupOptions},[(_(!0),M(ge,null,Oe(i.__VISIBLE__,(E,ue,P)=>(_(),M("li",{class:e.classList.option(E,i),key:P,"data-pointed":e.isPointed(E),onMouseenter:k=>e.setPointer(E),onClick:k=>e.handleOptionClick(E)},[N(e.$slots,"option",{option:E,search:e.search},()=>[T("span",{innerHTML:E[a.label]},null,8,["innerHTML"])])],42,["data-pointed","onMouseenter","onClick"]))),128))],2)],2))),128)):(_(!0),M(ge,{key:1},Oe(e.fo,(i,I,L)=>(_(),M("li",{class:e.classList.option(i),key:L,"data-pointed":e.isPointed(i),onMouseenter:E=>e.setPointer(i),onClick:E=>e.handleOptionClick(i)},[N(e.$slots,"option",{option:i,search:e.search},()=>[T("span",{innerHTML:i[a.label]},null,8,["innerHTML"])])],42,["data-pointed","onMouseenter","onClick"]))),128))],2),e.noOptions?N(e.$slots,"nooptions",{key:0},()=>[T("div",{class:e.classList.noOptions,innerHTML:a.noOptionsText},null,10,["innerHTML"])]):A("v-if",!0),e.noResults?N(e.$slots,"noresults",{key:1},()=>[T("div",{class:e.classList.noResults,innerHTML:a.noResultsText},null,10,["innerHTML"])]):A("v-if",!0),N(e.$slots,"afterlist",{options:e.fo})],2),A(" Hacky input element to show HTML5 required warning "),a.required?(_(),M("input",{key:8,class:e.classList.fakeInput,tabindex:"-1",value:e.textValue,required:""},null,10,["value"])):A("v-if",!0),A(" Native input support "),a.nativeSupport?(_(),M(ge,{key:9},[a.mode=="single"?(_(),M("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,["name","value"])):(_(!0),M(ge,{key:1},Oe(e.plainValue,(i,I)=>(_(),M("input",{type:"hidden",name:`${a.name}[]`,value:i,key:I},null,8,["name","value"]))),128))],64)):A("v-if",!0),A(" Create height for empty input "),T("div",{class:e.classList.spacer},null,2)],42,["tabindex","id"])},Ye.__file="src/Multiselect.vue";export{Ye as w};
